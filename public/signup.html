<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11316670180"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'AW-11316670180');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>RSSI NGO - Application form</title>
    <meta name="description"
        content="One-stop application form of RSSI NGO to apply for jobs, internships, volunteer roles, and membership opportunities. Your journey with RSSI NGO starts here.">
    <meta name="keywords"
        content="RSSI NGO application form, NGO jobs application, internship application, volunteer registration, membership application">
    <meta name="author" content="RSSI NGO">
    <meta property="og:image" content="https://rssi.in/img/og_image.png">
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon" />
    <!-- Bootstrap CSS -->
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Template Main CSS File -->
    <link href="/css/main.css?v=1.3.5" rel="stylesheet">
    <style>
        .required-asterisk {
            color: red;
        }
    </style>
</head>

<body>
    <!-- ======= Header ======= -->
    <div id="header"></div>
    <!-- End Header -->
    <main id="main">
        <!-- ======= Breadcrumbs ======= -->
        <!-- Replace your existing breadcrumbs div with this -->
        <div class="breadcrumbs">
            <div class="container">
                <div class="d-flex justify-content-between align-items-center">
                    <h2 id="page-title"></h2>
                    <ol id="breadcrumb-list"></ol>
                </div>
            </div>
        </div>
        <!-- End Breadcrumbs -->
        <section class="sample-page">

            <div class="container">
                <!-- <p>Unique Id: WB/2021/0282726 (NGO Darpan, NITI Aayog,
                    Government of India)</p>
                <hr> -->
                <table class="table">
                    <tr>
                        <td>
                            <div id="existingvisitorInfo">
                                <form name="emailForm" id="emailForm">
                                    <input type="hidden" name="form-type" value="email_verify_signup">
                                    <div class="mb-3">
                                        <label for="email_verify" class="form-label">Please verify your email address to
                                            proceed:</label>
                                        <div class="input-group mb-3">
                                            <input type="email" class="form-control" id="email_verify"
                                                name="email_verify" placeholder="Enter your email" required>
                                            <button type="submit" class="btn btn-primary" id="verifybutton">Verify
                                                email</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </td>
                    </tr>
                </table>

                <form name="signup" id="signup" action="#" method="post" enctype="multipart/form-data"
                    style="display: none;" disabled>
                    <input type="hidden" name="form-type" value="signup">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td>

                                    <label for="applicant-name">Applicant
                                        Name:</label>
                                </td>
                                <td><input type="text" class="form-control" id="applicant-name" name="applicant-name"
                                        placeholder="Enter applicant name" required>
                                    <small id="applicant-name-help" class="form-text text-muted">Please
                                        enter the
                                        name
                                        of the
                                        applicant.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="date-of-birth">Date of
                                        Birth:</label>
                                </td>
                                <td><input type="date" class="form-control" id="date-of-birth" name="date-of-birth"
                                        required>
                                    <small id="date-of-birth-help" class="form-text text-muted">Please
                                        enter
                                        the date of
                                        birth of the applicant.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="gender">Gender:</label>
                                </td>
                                <td><select class="form-select" id="gender" name="gender" required>
                                        <option value>--Select
                                            Gender--</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Binary">Binary</option>
                                    </select>
                                    <small id="gender-help" class="form-text text-muted">Please
                                        select the
                                        gender of the
                                        applicant.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="telephone">Telephone
                                        Number:</label>
                                </td>
                                <td><input type="tel" class="form-control" id="telephone" name="telephone"
                                        placeholder="Enter telephone number" pattern="[0-9]{10}"
                                        oninput="validateContactNumber(this)" required>
                                    <small id="telephone-help" class="form-text text-muted">Please
                                        enter a
                                        valid
                                        telephone
                                        number.</small>
                                    <span id="contactnumber_error" style="color: red;"></span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="postal-address">Current Address:</label>
                                </td>
                                <td>
                                    <textarea class="form-control" id="postal-address" name="postal-address" rows="3"
                                        placeholder="Enter current address" required></textarea>
                                    <small id="postal-address-help" class="form-text text-muted">Please enter the
                                        complete current address of the student.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="permanent-address">Permanent Address:</label>
                                </td>
                                <td>
                                    <textarea class="form-control" id="permanent-address" name="permanent-address"
                                        rows="3" placeholder="Enter permanent address" required></textarea>
                                    <small id="permanent-address-help" class="form-text text-muted">Please enter the
                                        complete permanent address of the student.</small>
                                    <div>
                                        <input type="checkbox" class="form-check-input" id="same-address"
                                            onclick="copyAddress()">
                                        <label for="same-address">Same as current address</label>
                                    </div>
                                </td>
                            </tr>

                            <script>
                                function copyAddress() {
                                    const currentAddress = document.getElementById('postal-address').value;
                                    const permanentAddressField = document.getElementById('permanent-address');
                                    const sameAddressCheckbox = document.getElementById('same-address');

                                    if (sameAddressCheckbox.checked) {
                                        permanentAddressField.value = currentAddress; // Copy current address to permanent address
                                        permanentAddressField.readOnly = true; // Make it read-only when checkbox is checked
                                    } else {
                                        permanentAddressField.value = ''; // Clear permanent address when checkbox is unchecked
                                        permanentAddressField.readOnly = false; // Make it editable again
                                    }
                                }
                            </script>
                            <tr>
                                <td>
                                    <label for="education-qualification" class="form-label">Educational
                                        Qualification:</label>
                                </td>
                                <td>
                                    <select class="form-select" id="education-qualification"
                                        name="education-qualification" required>
                                        <option disabled selected>Select your qualification</option>
                                        <option value="Bachelor Degree Regular">Bachelor Degree Regular</option>
                                        <option value="Bachelor Degree Correspondence">Bachelor Degree Correspondence
                                        </option>
                                        <option value="Master Degree">Master Degree</option>
                                        <option value="PhD (Doctorate Degree)">PhD (Doctorate Degree)</option>
                                        <option value="Post Doctorate or 5 years experience">Post Doctorate or 5 years
                                            experience</option>
                                        <option value="Culture, Art & Sports etc.">Culture, Art & Sports etc.</option>
                                        <option value="Class 12th Pass">Class 12th Pass</option>
                                    </select>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="specialization" class="form-label">Area of Specialization:</label>
                                </td>
                                <td>
                                    <input type="text" class="form-control" id="specialization" name="specialization"
                                        placeholder="e.g., Computer Science, Physics, Fine Arts" required>
                                    <small id="specialization-help" class="form-text text-muted">
                                        Please write the name of the subject, stream, or area of specialization in which
                                        you have done graduation or masters.
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="college_name" class="form-label">College/University Name:</label>
                                </td>
                                <td>
                                    <input type="text" class="form-control" id="college_name" name="college_name"
                                        placeholder="e.g., Harvard University, University of Tokyo" required>
                                    <small id="college-help" class="form-text text-muted">
                                        Please write the full name of the college or university you are currently
                                        attending or most recently attended.
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="enrollment_number" class="form-label">Enrolment Number:</label>
                                </td>
                                <td>
                                    <input type="text" class="form-control" id="enrollment_number"
                                        name="enrollment_number" placeholder="e.g., 2024CS12345">
                                    <small id="enrollment-help" class="form-text text-muted">
                                        Please enter your official enrolment/registration number at the
                                        college/university.
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="work-experience" class="form-label">Work Experience:</label>
                                </td>
                                <td>
                                    <textarea class="form-control" id="work-experience" name="work-experience" rows="3"
                                        placeholder="e.g., 3 years in Teaching, 2 years in Marketing"></textarea>
                                    <small id="work-experience-help" class="form-text text-muted">
                                        Specify your work experience, including job title, company, and duration (one
                                        entry per line if needed).
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="branch">Preferred
                                        Branch:</label>
                                </td>
                                <td><select class="form-select" id="branch" name="branch" required>
                                        <option value>--Select
                                            Branch--</option>
                                        <option value="Lucknow">Lucknow</option>
                                        <option value="West Bengal">West
                                            Bengal</option>
                                    </select>
                                    <small id="branch-help" class="form-text text-muted">Please
                                        select
                                        the
                                        preferred
                                        branch.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="class">Type of association:</label>
                                </td>
                                <td><select class="form-select" id="association" name="association" required>
                                        <option value>--Select
                                            Type of association--</option>
                                        <option value="Employee">Employee</option>
                                        <option value="Intern">Intern</option>
                                        <option value="Membership">Membership</option>
                                        <option value="Volunteer">Volunteer</option>
                                    </select>
                                    <small id="class-help" class="form-text text-muted">If you intend to join the NGO
                                        for college projects or community service, please select 'Intern'.</small>
                                </td>
                            </tr>
                            <tr>
                                <td width="30%">
                                    <label for="job-select">Job code:
                                    </label>
                                </td>
                                <td><select class="form-select" id="job-select" name="job-select" required>
                                        <option value>--Select Job code--</option>
                                        <option value="PT-REG">PT-REG</option>
                                        <option value="FT-PAT">FT-PAT</option>
                                    </select>
                                    <small class="form-text text-muted">For applicants seeking part-time positions,
                                        please select "PT-REG" as the job type. For other positions, please refer to the
                                        specific job advertisement for the corresponding job code.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="purpose">Purpose of Volunteering:</label>
                                </td>
                                <td>
                                    <textarea class="form-control" id="purpose" name="purpose" rows="4"
                                        required></textarea>
                                    <small class="form-text text-muted"></small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="availability">Availability:</label>
                                </td>
                                <td>
                                    <select multiple class="form-control" id="availability" name="availability[]"
                                        required>
                                        <option value="Monday">Monday</option>
                                        <option value="Tuesday">Tuesday</option>
                                        <option value="Wednesday">Wednesday</option>
                                        <option value="Thursday">Thursday</option>
                                        <option value="Friday">Friday</option>
                                        <option value="Saturday">Saturday</option>
                                        <option value="Sunday">Sunday</option>
                                    </select>
                                    <small class="form-text text-muted">Select the weekdays you are available.</small>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <label for="interests">What types of work opportunities are you most interested in
                                        pursuing?</label>
                                </td>
                                <td>
                                    <select class="form-select" id="interests" name="interests" required>
                                        <option value="">Select an option</option>
                                        <option value="Academics">Academics</option>
                                        <option value="Non-academics">Non-academics</option>
                                    </select>
                                    <small class="form-text text-muted"></small>
                                </td>
                            </tr>


                            <tr>
                                <td>
                                    <label for="post-select">Post applied for:
                                    </label>
                                </td>
                                <td><select class="form-select" id="post-select" name="post-select" required>
                                        <option value>--Select
                                            Post--</option>
                                        <option value="Faculty">Faculty</option>
                                        <option value="Digital Content & Engagement Associate">Digital Content &
                                            Engagement Associate</option>
                                        <option value="Business Development Executive">Business Development Executive
                                        </option>
                                    </select>
                                    <small class="form-text text-muted"></small>
                                </td>
                            </tr>
                            <tr id="subjectPreferences">
                                <td>
                                    <label for="subjectPreferences">Subject
                                        Preferences (Select up to
                                        3)</label>
                                </td>
                                <td>
                                    <div id="subjectPreferencesContainer">
                                        <small class="form-text text-muted"></small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="medium">Medium of instruction:
                                    </label>
                                </td>
                                <td><select multiple class="form-select" id="medium" name="medium[]" required>
                                        <option value="English">English</option>
                                        <option value="Hindi">Hindi</option>
                                    </select>
                                    <small class="form-text text-muted">Please choose the language(s) you can
                                        teach.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="membershipPurpose">Purpose of Membership:</label>
                                </td>
                                <td>
                                    <textarea class="form-control" id="membershipPurpose" name="membershipPurpose"
                                        rows="4" required></textarea>
                                    <small class="form-text text-muted"></small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="duration">Duration:</label>
                                </td>
                                <td>
                                    <input type="number" class="form-control" id="duration" name="duration" min="1"
                                        max="36" required>
                                    <small class="form-text text-muted">Please enter the period in months. Minimum
                                        period is 1 month. The maximum period is 36 months.</small>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="payment-photo">Upload Payment Screenshot</label>
                                    <p>To make payment, click <a
                                            href="https://eazypay.icicibank.com/eazypayLink?P1=ldvYO7WCMgfIXlGHmwXsxg==">here</a>.
                                    </p>
                                </td>
                                <td>
                                    <input type="file" class="form-control" id="payment-photo" name="payment-photo"
                                        required accept="image/*, application/pdf" capture="camera"
                                        onchange="previewPaymentPhoto(event)">
                                    <small id="payment-photo-help" class="form-text text-muted">For payment screenshots,
                                        ensure relevant transaction details are visible.</small>
                                    <div id="payment-photo-preview-container" style="display: none;">
                                        <img id="payment-photo-preview-image" src="#" alt="Uploaded Photo"
                                            style="max-width: 200px; max-height: 200px; display: none;">
                                        <embed id="payment-photo-preview-pdf" src="#" type="application/pdf"
                                            style="max-width: 200px; max-height: 200px; display: none;">
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <label for="applicant-photo">Upload Applicant Photo:</label>
                                </td>
                                <td>
                                    <input type="file" class="form-control" id="applicant-photo" name="applicant-photo"
                                        required accept=".jpg,.jpeg,.png" onchange="validateAndPreviewPhoto(this)">
                                    <small id="applicant-photo-help" class="form-text text-muted">
                                        Upload a recent photo (max 300 KB): Face clearly visible, neutral expression,
                                        and ensure a clean background.
                                    </small><br>
                                    <img src="/img/photo_guide.jpg" alt="Uploaded Photo"
                                        style="max-width: 200px; max-height: 200px;">
                                    <div id="applicant-photo-preview-container" style="display: none;">
                                        <img id="applicant-photo-preview" src="#" alt="Uploaded Photo"
                                            style="max-width: 200px; max-height: 200px;">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="resume-upload">Upload
                                        Resume:</label>
                                </td>
                                <td><input type="file" class="form-control" id="resume-upload" name="resume-upload"
                                        required required accept=".pdf, .doc, .docx" onchange="previewResume(event)">
                                    <small id="resume-upload-help" class="form-text text-muted">Please upload your
                                        resume in PDF or Doc/Docx format. The file size should not exceed 1 MB.</small>
                                    <div id="resume-upload-preview-container" style="display: none;">
                                        <!-- Initially hide the preview container -->
                                        <!-- <label>Preview:</label> -->
                                        <embed id="resume-upload-preview" src="#" type="application/pdf"
                                            style="max-width: 200px; max-height: 200px;">
                                        <!-- Use 'embed' for PDF preview -->
                                        <img id="resume-upload-image-preview" src="#" alt="Uploaded Resume"
                                            style="max-width: 200px; max-height: 200px;">
                                        <!-- Use 'img' for image preview -->
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="heardAbout" class="form-label">Where did you hear about RSSI
                                        NGO?</label>
                                </td>
                                <td><select class="form-select" id="heard_about" name="heard_about" required>
                                        <option value>--Select an option--</option>
                                        <option value="Instagram">Instagram</option>
                                        <option value="Google Search">Google Search</option>
                                        <option value="LinkedIn">LinkedIn</option>
                                        <option value="Career fair or recruitment event">Career fair or recruitment
                                            event</option>
                                        <option value="Indeed">Indeed</option>
                                        <option value="Jobs in education">Jobs in education</option>
                                        <option value="Referral from a friend or colleague">Referral from a friend or
                                            colleague</option>
                                        <option value="Job Hai">Job Hai</option>
                                        <option value="RSS NGO website">RSS NGO website</option>
                                        <option value="Workindia">Workindia</option>
                                        <option value="Facebook">Facebook</option>
                                        <option value="Other">Other</option>
                                    </select>
                                    <small class="form-text text-muted"></small>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="mb-3 form-check">
                        <input class="form-check-input" type="checkbox" id="consent" name="consent" required>
                        <label class="form-check-label" for="consent">
                            I give my consent to the processing of my personal data by the RSSI. My consent is
                            applicable to the following information: my surname, name, telephone, email, any other
                            information relating to my personality.
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary" id="btnSubmit">Submit</button>
                </form>
            </div>
        </section>
    </main>
    <!-- End #main -->
    <!-- ======= Footer ======= -->
    <div id="footer"></div>
    <!-- End Footer -->
    <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Load jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="/js/main.js?v=1.6.3"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const subjects = [
                'Hindi', 'English', 'Mathematics', 'Science', 'Computer', 'Social Science', 'Arts and Crafts'
            ];

            const container = document.getElementById('subjectPreferencesContainer');

            const selects = [];

            for (let i = 1; i <= 3; i++) {
                const select = document.createElement('select');
                select.className = 'form-select';
                select.name = `subject${i}`;
                select.id = `subject${i}`;
                select.required = true; // Add required attribute

                const label = document.createElement('label');
                label.htmlFor = `subject${i}`;
                label.className = 'form-label';
                label.textContent = `Preference ${i}:`;
                container.appendChild(label); // Append label before select
                container.appendChild(select);

                const defaultOption = document.createElement('option');
                defaultOption.value = '';
                defaultOption.textContent = 'Select Subject';
                select.appendChild(defaultOption);

                subjects.forEach(subject => {
                    const option = document.createElement('option');
                    option.value = subject;
                    option.textContent = subject;
                    select.appendChild(option);
                });

                selects.push(select); // Add select element to array for easy access
            }

            // Add event listener to each preference select element
            selects.forEach((select, index) => {
                select.addEventListener('change', function () {
                    // Collect all selected subjects
                    const selectedSubjects = selects.map(sel => sel.value);
                    // Disable selected subject in all other select elements
                    selects.forEach((otherSelect, otherIndex) => {
                        if (index !== otherIndex) {
                            otherSelect.querySelectorAll('option').forEach(option => {
                                if (option.value === select.value && option.value !== '') {
                                    option.disabled = true;
                                } else if (!selectedSubjects.includes(option.value)) {
                                    option.disabled = false;
                                }
                            });
                        }
                    });
                });
            });
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var associationSelect = document.getElementById("association");
            var jobSelect = document.getElementById("job-select");

            // Hide job code on load
            jobSelect.parentNode.parentNode.style.display = "none";
            // Function to reset jobSelect value
            function resetJobSelect() {
                jobSelect.value = ''; // Reset the value to empty
            }

            associationSelect.addEventListener("change", function () {
                if (associationSelect.value === "Employee") {
                    jobSelect.parentNode.parentNode.style.display = "table-row";
                    jobSelect.setAttribute("required", "");
                } else {
                    jobSelect.parentNode.parentNode.style.display = "none";
                    jobSelect.removeAttribute("required");
                    resetJobSelect(); // Reset the value when association changes
                }
            });
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var associationSelect = document.getElementById("association");
            var purposeTextarea = document.getElementById("purpose");
            var availabilityInput = document.getElementById("availability");
            var interestsSelect = document.getElementById("interests");

            // Hide additional fields on load
            purposeTextarea.parentNode.parentNode.style.display = "none";
            availabilityInput.parentNode.parentNode.style.display = "none";
            interestsSelect.parentNode.parentNode.style.display = "none";

            // Function to reset additional fields
            function resetAdditionalFields() {
                purposeTextarea.value = ''; // Reset purposeTextarea value
                availabilityInput.value = ''; // Reset availabilityInput value
                interestsSelect.value = ''; // Reset interestsSelect value
            }

            associationSelect.addEventListener("change", function () {
                if (associationSelect.value === "Volunteer") {
                    purposeTextarea.parentNode.parentNode.style.display = "table-row";
                    availabilityInput.parentNode.parentNode.style.display = "table-row";
                    interestsSelect.parentNode.parentNode.style.display = "table-row";

                    // Add required attribute to newly visible fields
                    purposeTextarea.setAttribute("required", "");
                    availabilityInput.setAttribute("required", "");
                    interestsSelect.setAttribute("required", "");
                } else {
                    purposeTextarea.parentNode.parentNode.style.display = "none";
                    availabilityInput.parentNode.parentNode.style.display = "none";
                    interestsSelect.parentNode.parentNode.style.display = "none";

                    // Remove required attribute from hidden fields
                    purposeTextarea.removeAttribute("required");
                    availabilityInput.removeAttribute("required");
                    interestsSelect.removeAttribute("required");
                    resetAdditionalFields(); // Reset the values when association changes
                }
            });
        });

    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var associationSelect = document.getElementById("association");
            var membershipPurpose = document.getElementById("membershipPurpose");
            var duration = document.getElementById("duration");
            var paymentPhoto = document.getElementById("payment-photo");
            const imagePreview_p = document.getElementById('payment-photo-preview-image');
            const pdfPreview_p = document.getElementById('payment-photo-preview-pdf');
            const container_p = document.getElementById('payment-photo-preview-container');

            // Hide additional fields on load
            membershipPurpose.parentNode.parentNode.style.display = "none";
            duration.parentNode.parentNode.style.display = "none";
            paymentPhoto.parentNode.parentNode.style.display = "none";

            function resetMembersFields() {
                membershipPurpose.value = ''; // Reset subject1 value
                duration.value = ''; // Reset subject2 value
                paymentPhoto.value = ''; // Reset subject3 value
                imagePreview_p.src = '';
                pdfPreview_p.src = '';
                container_p.style.display = 'none'; // Hide the preview container
            }

            associationSelect.addEventListener("change", function () {
                if (associationSelect.value === "Membership") {
                    membershipPurpose.parentNode.parentNode.style.display = "table-row";
                    duration.parentNode.parentNode.style.display = "table-row";
                    paymentPhoto.parentNode.parentNode.style.display = "table-row";

                    // Add required attribute to newly visible fields
                    membershipPurpose.setAttribute("required", "");
                    duration.setAttribute("required", "");
                    paymentPhoto.setAttribute("required", "");
                } else {
                    membershipPurpose.parentNode.parentNode.style.display = "none";
                    duration.parentNode.parentNode.style.display = "none";
                    paymentPhoto.parentNode.parentNode.style.display = "none";

                    // Remove required attribute from hidden fields
                    membershipPurpose.removeAttribute("required");
                    duration.removeAttribute("required");
                    paymentPhoto.removeAttribute("required");
                    resetMembersFields();
                }
            });
        });

    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var associationSelect = document.getElementById("association");
            var postSelect = document.getElementById("post-select");
            var medium = document.getElementById("medium");

            // Hide additional fields on load
            postSelect.parentNode.parentNode.style.display = "none";
            medium.parentNode.parentNode.style.display = "none";

            // Function to reset postSelect and medium values
            function resetPostFields() {
                postSelect.value = ''; // Reset postSelect value
                medium.value = ''; // Reset medium value
            }

            associationSelect.addEventListener("change", function () {
                if (associationSelect.value === "Employee" || associationSelect.value === "Intern") {
                    postSelect.parentNode.parentNode.style.display = "table-row";
                    medium.parentNode.parentNode.style.display = "table-row";

                    // Add required attribute to newly visible fields
                    postSelect.setAttribute("required", "");
                    medium.setAttribute("required", "");
                } else {
                    postSelect.parentNode.parentNode.style.display = "none";
                    medium.parentNode.parentNode.style.display = "none";

                    // Remove required attribute from hidden fields
                    postSelect.removeAttribute("required");
                    medium.removeAttribute("required");
                    resetPostFields(); // Reset the values when association changes
                }
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const associationSelect = document.getElementById('association');
            const postSelect = document.getElementById('post-select');
            const subjectPreferencesRow = document.getElementById('subjectPreferences');
            const subject1 = document.getElementById('subject1');
            const subject2 = document.getElementById('subject2');
            const subject3 = document.getElementById('subject3');

            // Hide the Subject Preferences row on page load
            subjectPreferencesRow.style.display = 'none';

            // Function to reset subject preferences fields
            function resetSubjectPreferencesFields() {
                if (subject1) subject1.value = '';
                if (subject2) subject2.value = '';
                if (subject3) subject3.value = '';
            }

            // Function to handle subject preferences visibility
            function updateSubjectPreferences() {
                if (postSelect.value === 'Faculty') {
                    subjectPreferencesRow.style.display = 'table-row';
                    [subject1, subject2, subject3].forEach(field => {
                        if (field) field.setAttribute('required', '');
                    });
                } else {
                    subjectPreferencesRow.style.display = 'none';
                    [subject1, subject2, subject3].forEach(field => {
                        if (field) field.removeAttribute('required');
                    });
                    resetSubjectPreferencesFields();
                }
            }

            // Initial setup for post-select change
            if (postSelect) {
                postSelect.addEventListener('change', updateSubjectPreferences);
            }

            // Handle association change (if needed for other logic)
            if (associationSelect) {
                associationSelect.addEventListener('change', function () {
                    // Reset subject preferences when association changes
                    updateSubjectPreferences();
                });
            }

            // Initialize
            updateSubjectPreferences();
        });
    </script>

    <script>
        $(document).ready(function () {
            $('input, select, textarea').each(function () {
                if ($(this).prop('required')) { // Check if the element has the required attribute
                    // Check if the label has already had an asterisk appended
                    var label = $(this).closest('td').prev('td').find('label');

                    // Only append asterisk if it hasn't been added yet
                    if (!label.find('span').length) {
                        label.append(' <span style="color: red">*</span>');
                    }
                }
            });

            // Special case for subject preferences to avoid adding multiple asterisks
            const subjectPreferencesLabel = $('label[for="subjectPreferences"]');
            if (subjectPreferencesLabel.length && !subjectPreferencesLabel.find('span').length) {
                subjectPreferencesLabel.append(' <span style="color: red">*</span>');
            }
        });
    </script>


    <script>
        // Function to preview applicant's photo
        function validateAndPreviewPhoto(input) {
            const file = input.files[0]; // Get the uploaded file

            if (file) {
                // Allowed file types
                const validImageTypes = ['image/jpeg', 'image/png'];
                if (!validImageTypes.includes(file.type)) {
                    alert('Only image files (JPG, JPEG, PNG) are allowed.');
                    input.value = ''; // Clear the file input
                    return;
                }

                // Check file size (max 300 KB)
                const maxSize = 300 * 1024; // 300 KB in bytes
                if (file.size > maxSize) {
                    alert('The uploaded file exceeds the maximum size of 300 KB. Please upload a smaller image.');
                    input.value = ''; // Clear the file input
                    return;
                }

                // Preview the image
                const reader = new FileReader();
                reader.onload = function (e) {
                    const previewImg = document.getElementById('applicant-photo-preview');
                    previewImg.src = e.target.result;
                    document.getElementById('applicant-photo-preview-container').style.display = 'block';
                };
                reader.readAsDataURL(file); // Read file for preview
            }
        }

        // Function to preview resume upload
        function previewResume(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('resume-upload-preview');
            const imagePreview = document.getElementById('resume-upload-image-preview');
            const container = document.getElementById('resume-upload-preview-container');

            if (file) {
                if (file.type.startsWith('image/')) {
                    // If the file is an image
                    const reader = new FileReader();
                    reader.onload = function () {
                        imagePreview.src = reader.result;
                        imagePreview.style.display = 'block';
                        preview.style.display = 'none'; // Hide PDF preview
                        container.style.display = 'block'; // Display the preview container
                    };
                    reader.readAsDataURL(file);
                } else if (file.type === 'application/pdf') {
                    // If the file is a PDF
                    const reader = new FileReader();
                    reader.onload = function () {
                        preview.src = reader.result;
                        preview.style.display = 'block';
                        imagePreview.style.display = 'none'; // Hide image preview
                        container.style.display = 'block'; // Display the preview container
                    };
                    reader.readAsDataURL(file);
                } else if (file.type === 'application/msword' || file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {
                    // If the file is a DOC/DOCX
                    // As previewing DOC files directly in the browser is not supported, you can handle it differently
                    // For example, you can display a message indicating that DOC files cannot be previewed and provide a download link instead
                    alert('DOC/DOCX files cannot be previewed. You can download the file instead.');
                } else {
                    // Unsupported file type
                    alert('Unsupported file type! Please upload a PDF, or document (DOC/DOCX)');
                }
            }
        }

        function previewPaymentPhoto(event) {
            const file_p = event.target.files[0];
            const imagePreview_p = document.getElementById('payment-photo-preview-image');
            const pdfPreview_p = document.getElementById('payment-photo-preview-pdf');
            const container_p = document.getElementById('payment-photo-preview-container');

            if (file_p) {
                container_p.style.display = 'block'; // Show the preview container
                if (file_p.type.startsWith('image/')) {
                    // If the file is an image
                    const reader = new FileReader();
                    reader.onload = function () {
                        imagePreview_p.src = reader.result;
                        imagePreview_p.style.display = 'block';
                        pdfPreview_p.style.display = 'none'; // Hide PDF preview
                    };
                    reader.readAsDataURL(file_p);
                } else if (file_p.type === 'application/pdf') {
                    // If the file is a PDF
                    const reader = new FileReader();
                    reader.onload = function () {
                        pdfPreview_p.src = reader.result;
                        pdfPreview_p.style.display = 'block';
                        imagePreview_p.style.display = 'none'; // Hide image preview
                    };
                    reader.readAsDataURL(file_p);
                } else {
                    // Unsupported file type
                    alert('Unsupported file type! Please upload a PDF or image.');
                    container_p.style.display = 'none'; // Hide the preview container
                }
            } else {
                // No file selected
                container_p.style.display = 'none'; // Hide the preview container
            }
        }
    </script>

    <script>
        function validateContactNumber(input) {
            var errorMessage = document.getElementById("contactnumber_error");

            if (!input.checkValidity()) {
                errorMessage.textContent = "Please enter a valid 10-digit contact number.";
            } else {
                errorMessage.textContent = "";
            }
        }
    </script>
    <!-- Bootstrap Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="text-center">
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p id="loadingMessage">Submission in progress.
                            Please do not close or reload this page.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Determine the correct script URL based on the environment
        const scriptURL = window.location.hostname === 'localhost'
            ? 'http://localhost:8082/rssi-member/payment-api.php'
            : 'https://login.rssi.in/rssi-member/payment-api.php';

        const emailForm = document.getElementById('emailForm');
        const signup = document.getElementById("signup");

        document.getElementById("btnSubmit").addEventListener("click", async function (event) {
            event.preventDefault(); // Prevent default form submission

            if (!signup.checkValidity()) {
                signup.reportValidity(); // Show the default validation messages
                return;
            }

            // Disable the submit button immediately upon form submission
            this.disabled = true;
            // Show the Bootstrap modal
            const myModal = new bootstrap.Modal(document.getElementById("myModal"), {
                backdrop: 'static',
                keyboard: false
            });
            // Add event listener to intercept Escape key press
            document.body.addEventListener('keydown', function (event) {
                if (event.key === 'Escape') {
                    // Prevent default behavior of Escape key
                    event.preventDefault();
                }
            });
            myModal.show();
            const email = document.getElementById('email_verify').value; // Get the email value

            // Create a new FormData object, starting from the signup form
            const formData = new FormData(signup);

            // Add the email value to the FormData object
            formData.append('email', email.toLowerCase()); // Ensure email is in lowercase
            try {
                const response = await fetch(scriptURL, {
                    method: 'POST',
                    body: formData
                });
                const result = await response.json();

                console.log("API Response:", result);

                if (!result.error) {
                    // Show success message if form submission was successful
                    alert(`Submitted successfully! Application Number: ${result.application_number}\nStep two: Identity Verification.  A verification email with further instructions has been sent to your registered address. Please check your inbox and spam folder.\nSometimes spam filters block automated emails. If you do not find the email in your inbox, please check your spam filter or bulk email folder. If you have any queries regarding your application, please feel free to reach out at +91 7980168159 or email us at info@rssi.in.`);
                    signup.reset(); // Reset the form after successful submission
                    location.reload(); // Reload the page after successful submission
                } else {
                    // Show error message if an error occurred during form submission
                    throw new Error("Error occurred during form submission. Please try again later.");
                }
            } catch (error) {
                // Show error message if an error occurred during form submission
                console.error(error);
                alert(error.message);
            } finally {
                // Re-enable the submit button and hide the modal after the form submission process is finished
                this.disabled = false;
                myModal.hide();
            }
        });
    </script>

    <script>
        document.getElementById('emailForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevent the default form submission

            const formData = new FormData(this); // Get the form data
            const emailInput = document.getElementById('email_verify');
            const signupForm = document.getElementById('signup'); // Reference to the signup form
            const verifyForm = document.getElementById('emailForm'); // Reference to the email form
            const verifyButton = document.getElementById('verifybutton');

            // Save original button text
            const originalText = verifyButton.innerHTML;

            // Disable button and show spinner
            verifyButton.disabled = true;
            verifyButton.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Verifying...';

            // Send AJAX request
            fetch(scriptURL, {
                method: 'POST',
                body: formData,
            })
                .then(response => response.json())
                .then(data => {
                    if (data.exists) {
                        alert('This email is already registered. Please use another email.');
                        emailInput.value = ''; // Clear the input field

                        // Reset button to original state
                        verifyButton.disabled = false;
                        verifyButton.innerHTML = originalText;
                    } else {
                        alert('No account is linked to this email address. Please proceed with registration.');

                        // Make the signup form visible and enabled
                        signupForm.style.display = 'block'; // Show the signup form
                        signupForm.removeAttribute('disabled'); // Enable the signup form

                        // Disable all elements in the verify form
                        Array.from(verifyForm.elements).forEach(element => {
                            element.setAttribute('disabled', 'true');
                        });

                        // Keep button disabled but show original text
                        verifyButton.innerHTML = originalText;
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error occurred during verification. Please try again.');
                    // Reset button to original state on error
                    verifyButton.disabled = false;
                    verifyButton.innerHTML = originalText;
                });
        });
    </script>

</body>

</html>